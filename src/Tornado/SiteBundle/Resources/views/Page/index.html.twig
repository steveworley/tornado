{# src/Tornado/SiteBundle/Resources/views/Page/index.html.twig #}
{% extends 'TornadoSiteBundle::layout.html.twig' %}

{% block main %}
  <div class="index" id="home">
    <h1 class="header-brand"><img src="{{ asset("images/logo-swirl-blue.png") }}"><br/>Tornado</h1>
    <h2 class="header-slogan">Code complexity analysis tool for PHP.</h2>

    <div class="has-js step-1 form" id="upload">
      <div class="progress progress-striped hidden" id="file-upload-progress">
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <p class="upload-link"><button class="upload btn btn-info btn-big" data-bindto="resource_file"><span class="glyphicon glyphicon-cloud-upload"></span> Upload a file</button><br /><a href="#code" class="btn btn-link">or paste in some code</a></p>
    </div>

    {% include 'TornadoSiteBundle::Page/partials/form.html.twig' with {'form': uploadFile, 'path': path('tornado_api_upload')} %}

    {# Include the source code file #}
    {% include 'TornadoSiteBundle::Page/source_code.html.twig' %}
  </div>
{% endblock %}

{% block javascript %}
  <script type="text/javascript" src="{{ asset('scripts/app.js') }}" data-libraries="ace/ace,lib/binds,lib/forms"></script>
{% endblock %}
